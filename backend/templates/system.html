 <!DOCTYPE html>
{% extends "base.html" %}
{% import "navbar.html" as nav with context %}
{% block navbar %}
    {{ nav }}
{% endblock navbar %}

{% block content %}
 <ul class="nav nav-tabs">
  <li id="tab_systemproperties" class="active"><a href="#">{{ _('Systemeigenschaften') }}</a></li>
  <li id="tab_pypi"><a href="#">{{ _('PyPI Check') }}</a></li>
 </ul>

 <div id="systemproperties">
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th style="width: 100px;"></th>
                    <th>{{ _('Eigenschaft') }}</th>
                    <th>{{ _('Status') }}</th>
                </tr>
            </thead>
        <tbody>
            <tr>
                <td><img src="static/img/logo_small_76x76.png" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('SmartHomeNG Version') }}:</td>
                <td style="vertical-align: middle;">{{ sh_vers }}&nbsp;{{ _('in') }}&nbsp;{{ sh_dir }}&nbsp;&nbsp;-&nbsp;&nbsp;{{ _('Benutzer') }}:&nbsp;{{ user }}</td>
            </tr>
            <tr>
                <td><img src="static/img/terminal-server.svg" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">Host:</td>
                <td style="vertical-align: middle;">{{ node }}&nbsp;&nbsp;-&nbsp;&nbsp;IPv4: {{ ip }}<!--&nbsp;&nbsp;-&nbsp;&nbsp;IPv6: {{ ipv6 }}--></td>
            </tr>
            <tr>
                <td><img src="static/img/tux_hdd.svg" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('Betriebssystem') }}:</td>
                <td style="vertical-align: middle;">{{ system }} {{ vers }}&nbsp;&nbsp;-&nbsp;&nbsp;{{ _('Architektur') }}:&nbsp;{{ arch }}</td>
            </tr>
            <tr>
                <td><img src="static/img/python.png" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('Python Version') }}:</td>
                <td style="vertical-align: middle;">{{ pyversion }}</td>
            </tr>
            <tr>
                <td><img src="static/img/hd.svg" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('Freier Speicher') }}:</td>
                <td style="vertical-align: middle;">{{ (freespace)|round|int }} MByte</td>
            </tr>
            <tr>
                <td><img src="static/img/clock.svg" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('Datum') }} / {{ _('Zeit') }}:</td>
                <td style="vertical-align: middle;">{{ now }}</td>
            </tr>
            <tr>
                <td><img src="static/img/preferences.svg" style="width: 36px; height: 36px; margin-left: 40px;"></td>
                <td style="vertical-align: middle;">{{ _('Betriebszeit') }}:</td>
                <td style="vertical-align: middle;">Host:&nbsp;{{ uptime }}&nbsp;&nbsp;-&nbsp;&nbsp;SmartHomeNG:&nbsp;{{ sh_uptime }}</td>
            </tr>
        </tbody>
        </table>
    </div>
</div>
<div id="pypi" style="display: none;">
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th style="width: 15%; padding-left: 50px;">Python Package</th>
                    <th style="width: 15%;">{{ _('installierte Version') }}</th>
                    <th style="width: 55%;">{{ _('Anforderungen') }}</th>
                    <th style="width: 15%;">{{ _('Neuste Version') }} (PyPI)</th>
                </tr>
            </thead>
            <tbody>
                {% for pack in python_packages|sort %}
                <tr>
                    <td style="padding-left: 50px;">{{ pack[0] }}</td>
                    <td>{% if pack[1] != pack[2] and pack[2] != "-" %}<span style="font-weight:bold; color: red;">{% else %}<span style="font-weight:bold; color: green;">{% endif %}{{ pack[1] }}</span></td>
                    <td>{{ requirements[pack[0]] }}</td>
                    <td>{% if pack[2] == "-" %}<span style="font-weight:bold; color: red;">{% endif %}{{ pack[2] }}{% if pack[2] == "-" %}</span>{% endif %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
 <script>
$('#tab_systemproperties').on('click', function(event){
	$('#tab_pypi').removeClass('active');
	$('#tab_systemproperties').addClass('active');
	$('#pypi').hide();
	$('#systemproperties').show();
});
$('#tab_pypi').on('click', function(event){
	$('#tab_systemproperties').removeClass('active');
	$('#tab_pypi').addClass('active');
	$('#systemproperties').hide()
	$('#pypi').show();
});
</script>
{% endblock %}
